"use strict";var getBurgerMenu=function(){if(document.querySelector(".js-burger")){var e=document.querySelector(".js-burger"),t=document.querySelector(".js-menu"),n=document.querySelector("body");window.addEventListener("resize",(function(o){window.innerWidth>=1024&&(n.classList.remove("add-bg"),t.classList.remove("side-block--active"),e.classList.remove("header__btn--open"),n.classList.remove("lock-scroll--mobile"))})),e.addEventListener("click",(function(){t.classList.toggle("side-block--active"),e.classList.toggle("header__btn--open"),n.classList.toggle("lock-scroll--mobile"),n.classList.toggle("add-bg")}))}},popupForm=function(){if(document.querySelector(".js-popup-btn")){var e=document.querySelector("body"),t=document.querySelectorAll(".js-popup-btn"),n=document.querySelector(".js-template").content.querySelector(".form"),o=function(e){"Escape"===e.key&&(e.preventDefault(),r())},r=function(){var t=document.querySelector(".form");t&&(t.remove(),document.removeEventListener("keydown",o)),e.classList.remove("lock-scroll")},c=function(t){var c=document.createDocumentFragment(),a=function(e){var t=n.cloneNode(!0),o=t.querySelector(".js-send-btn"),c=t.querySelector(".js-legend"),a=t.querySelector(".js-close-btn"),i=t.querySelectorAll(".js-calendar"),u=t.querySelector(".form__element");return o.textContent=e.textContent,c.textContent=e.textContent,"Создать"!==o.textContent&&o.classList.add("form__btn--color"),i.forEach((function(e){new AirDatepicker(e,{minDate:new Date,autoClose:!0,container:t.querySelector(".form__element"),position:"bottom center",onSelect:function(t){var n=t.formattedDate;e.value="undefined"==="".concat(n)?"":"".concat(n),0===e.value.length&&"undefined"===e.value||(e.parentNode.querySelector(".form__text").style.display="block")}})})),a.addEventListener("click",r),u.addEventListener("submit",l),t}(t);c.appendChild(a),document.addEventListener("keydown",o),function(e,t){e.appendChild(t)}(e,c),e.classList.toggle("lock-scroll")};t.forEach((function(e){return e.addEventListener("click",(function(e){document.querySelector(".form")||c(e.target)}))}));var l=function(e){var t=e.target,n=Array.from(t.querySelectorAll("input"));n.forEach((function(e){""===e.value&&void 0===e.value||e.parentElement.classList.remove(".form__input-wrap--invalid")})),n.forEach((function(t){""!==t.value&&void 0!==t.value||(e.preventDefault(),t.parentElement.classList.add("form__input-wrap--invalid"))}))}}},textFormatting=function(){if(document.querySelector(".js-formatting-text")){var e=document.querySelectorAll(".js-formatting-text"),t=window.matchMedia("(max-width: 1024px)"),n=function(){e.forEach((function(e){window.innerWidth>1024&&e.textContent.length>=154?e.textContent=e.textContent.substring(0,154).concat(" ..."):e.textContent=e.textContent}))};t.addEventListener("change",(function(e){return e.matches?document.location.reload():n()})),n()}};document.addEventListener("DOMContentLoaded",(function(){getBurgerMenu(),popupForm(),textFormatting()}));
//# sourceMappingURL=main.js.map
